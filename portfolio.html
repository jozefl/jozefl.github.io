<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Jozef Lawrynowicz</title>
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
</style>
<link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="main.css"/>
</head>
<body>
<div id="preamble" class="status">
<link rel="import" href="nav.html"/>
</div>
<div id="content" class="content">
<h1 class="title">Jozef Lawrynowicz</h1>

<table class="navbar" frame="none" width="10%">


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left"><a href="index.html">Resume</a></td>
<td class="org-left"><a href="portfolio.html">Portfolio</a></td>
<td class="org-left"><a href="mailto:jozef.lawrynowicz@gmail.com">jozef.lawrynowicz@gmail.com</a></td>
</tr>
</tbody>
</table>
<p class="mainsummary">
Software engineer with over 5 years of experience of GNU toolchain development
</p>
<div id="outline-container-org9853bc8" class="outline-2">
<h2 id="org9853bc8">Quick Links</h2>
<div class="outline-text-2" id="text-org9853bc8">
<hr>
<table width="100%" frame="void" cellpadding="3">


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left"><a href="https://github.com/jozefl/msp430-llvm">MSP430-LLVM</a></td>
<td class="org-left"><a href="https://gcc.gnu.org/git/?p=gcc.git;a=search;h=HEAD;s=Jozef+Lawrynowicz;st=author">All GCC Commits</a></td>
<td class="org-left"><a href="https://sourceware.org/git/?p=binutils-gdb.git;a=search;h=HEAD;s=Jozef+Lawrynowicz;st=author">All Binutils/GDB Commits</a></td>
<td class="org-left"><a href="https://sourceware.org/git/?p=newlib-cygwin.git;a=search;h=HEAD;s=Jozef+Lawrynowicz;st=author">All Newlib Commits</a></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org0adebe8" class="outline-2">
<h2 id="org0adebe8">Mitto Systems and MSP430-GCC</h2>
<div class="outline-text-2" id="text-org0adebe8">
<hr>
<p>
I founded Mitto Systems in January 2018, and through this company worked on the
Texas Instruments <a href="https://www.ti.com/tool/MSP430-GCC-OPENSOURCE">MSP430-GCC project</a>, a downstream fork of the MSP430 GNU
toolchain. Over the 3 years I led the project, I delivered 9 releases to TI,
spanning GCC versions 7 to 9. Each release of MSP430-GCC was available
standalone or alongside the TI toolchain in the Code Composer Studio IDE.
</p>

<p>
The goals of the project were to improve code generation, with a focus on
reducing the size of generated code, whilst keeping the toolchain up to date
with the latest versions of upstream GCC, Binutils, and GDB. Regular contact
with customers on the TI e2e forums helped me stay up to date with issues faced
by them, helping to prioritize tasks for releases.
</p>

<p>
Code generation improvements and optimizations across the compiler,
linker and runtime libraries delivered an average code size reduction
of 35%, achieved with the final release. Performance, as measured by
EEMBC CoreMark score, increased by 10%.
</p>
</div>
</div>
<div id="outline-container-orgc271a9a" class="outline-2">
<h2 id="orgc271a9a">Coding and Open Source Contributions</h2>
<div class="outline-text-2" id="text-orgc271a9a">
<hr>
<p>
<a href="https://github.com/jozefl/msp430-llvm">MSP430-LLVM</a> is a fork of LLVM used as a staging area for MSP430-specific patches
I developed, whilst they await review for inclusion into the upstream LLVM project.
I implemented:
</p>
<ul class="org-ul">
<li><a href="https://github.com/jozefl/msp430-llvm/commit/3bf2a4487503fb7f2080032f245d2734ee1d74d8">a new method</a> for efficiently extracting the CPU and hardware multiply version
supported by specific MSP430 MCUs</li>
<li><a href="https://github.com/jozefl/msp430-llvm/commit/5973c0c5b784b059b960f1fe439ad76975694a11">a series</a> <a href="https://github.com/jozefl/msp430-llvm/commit/ea81f1c597b4f849b67735b7e3ccb9ce487a07f6">of</a> <a href="https://github.com/jozefl/msp430-llvm/commit/05053b84e0ba7cf80313e8a0b9453d6133ea84e0">patches</a> to add codegen and assembler support for MSP430X shift instructions</li>
<li><a href="https://github.com/jozefl/msp430-llvm/commit/e22f6a769b6bc0f357a64e48cde772893035ff9b">a patch</a> to add codegen and assembler support for MSP430X push/pop instructions.</li>
</ul>

<p>
My GCC contributions include improvements to <a href="https://gcc.gnu.org/git/?p=gcc.git;a=commitdiff;h=a0a9a3fc22d4d4a38c1d6a31669c926734308745">instruction selection in the MSP430
backend</a>, development of <a href="https://gcc.gnu.org/git/?p=gcc.git;a=commitdiff;h=8682b1a508e5ba9bd2e1b2b4d298bf7d07a37f80">a new MSP430 data model</a>, and the implementation of
highly-optimized MSP430 assembly code library routines for performing 64-bit
<a href="https://gcc.gnu.org/git/?p=gcc.git;a=commitdiff;h=0fcc78f79e85b816480e0425cc8d7c496e739e88">shifts</a> and <a href="https://gcc.gnu.org/git/?p=gcc.git;a=commitdiff;h=bf7b94d40739428fda3d798b4add833054f7d012">multiplication</a>.
</p>

<p>
My Binutils contributions include the design and implementation of the
<a href="https://sourceware.org/git/?p=binutils-gdb.git;a=commitdiff;h=99fabbc9739a87ba3433e66792e93b773896790e">SHF_GNU_RETAIN ELF section flag</a> and fixes to <a href="https://sourceware.org/git/?p=binutils-gdb.git;a=commitdiff;h=8d6cb116f47b5edb2a7c2fa540fcb9dbcd3effc2">MSP430 linker relocation
processing</a>.
</p>

<p>
My GDB contributions include a fix to the MSP430 simulator&rsquo;s execution of
<a href="https://sourceware.org/git/?p=binutils-gdb.git;a=commitdiff;h=e8a387fb5f91cdb9674f19703c0e7bfbaf895a84">hardware multiplication routines</a>.
</p>

<p>
My Newlib contributions include the implementation of a <a href="https://sourceware.org/git/?p=newlib-cygwin.git;a=commitdiff;h=1e6c561d48ff8bc34683f763f168ee244af53c88">reduced code-size &ldquo;tiny
printf&rdquo;</a> for MSP430, refactoring libm to <a href="https://sourceware.org/git/?p=newlib-cygwin.git;a=commitdiff;h=b14a879d85b171960df789ac8ba2332004f838e0">remove legacy math library
configurations</a>, and optimization of the <a href="https://sourceware.org/git/?p=newlib-cygwin.git;a=commitdiff;h=f811485ffb78286929cd555d65bb70b8cac51c0c">MSP430 CRT library</a>.
</p>
</div>
</div>
<div id="outline-container-org26f37d5" class="outline-2">
<h2 id="org26f37d5">Technical Writing</h2>
<div class="outline-text-2" id="text-org26f37d5">
<hr>
<p>
As part of my work on the MSP430-GCC project, I maintained the <a href="https://www.ti.com/lit/pdf/SLAU646">MSP430-GCC User&rsquo;s
Guide</a>. Active monitoring of the TI e2e forums gave me a good idea of issues
faced by users, and common questions, which helped me to identify
functionality that needed better documentation. I added
&ldquo;Section 5 - MSP430-GCC Features&rdquo;, which describes the unique features of the
toolchain in detail, and helps users make the most of the available
optimizations.
</p>

<p>
One of the most significant tasks assigned by Texas Instruments was not directly
related to the MSP430-GCC project. TI tasked me with adapting an ELF extension
developed for their proprietary ARM toolchain, so it could be upstreamed into
the GNU toolchain. The extension was called &ldquo;Symbol Meta-Information&rdquo;, and was
intended to enable new types of information to be described about ELF symbols
and propagated between toolchain components.
</p>

<p>
I developed a proposal (<a href="https://01703124353399199694.googlegroups.com/attach/129816c2a37d9/elf-symbol-meta-information-proposal.pdf?part=0.2&amp;vt=ANaJVrFxpXtCSYptvQdsf-p-Hp1lRYIMWtX9vAn8SF0w2IcWOiZ9UNjmKjueWX-N-1eLPtQV80D5ZOX4fXwRh-k5xwHq1JCJ62OIUUYX9acqeeDPBXNZAns">PDF</a>) and technical specification (<a href="https://01703124353399199694.googlegroups.com/attach/129816c2a37d9/elf-symbol-meta-information-implementation.pdf?part=0.1&amp;vt=ANaJVrEDjBXgHMW4SExBMPFz1Asfdur4chqT718LcPAhyYaJdEnSI20CW2qWkEevHsTL4d0qRK-m_hg2nk3dZF0j2VPNF2nBf8VDsLcgXn1QHaeX0jWAQiM">PDF</a>), but the
functionality was ultimately rejected by the upstream community. However, the
whole process was a valuable experience, from writing the proposal and
discussing it upstream, to learning the importance of RFCs in keeping the
upstream community abreast of significant out-of-tree development work. It also
solidified my understanding of the value in breaking large changes down into
smaller parts, to make it easier to understand their impact on the broader
ecosystem.
</p>

<p>
To address the key requirement of one of the Symbol Meta-Information types, I
developed a new ELF section flag, called SHF_GNU_RETAIN. After writing a new
proposal and <a href="https://sourceware.org/pipermail/gnu-gabi/2020q3/000429.html">submitting a new RFC upstream</a>, this flag was accepted as a GNU
extension to the ELF ABI. I <a href="https://sourceware.org/git/?p=binutils-gdb.git;a=commitdiff;h=99fabbc9739a87ba3433e66792e93b773896790e">implemented it in Binutils</a>, and it now facilitates
the C/C++ &ldquo;retain&rdquo; attribute available in GCC and LLVM/Clang.
</p>
</div>
</div>
<br>
<br>
<br>
<br>
</div>
</body>
</html>
